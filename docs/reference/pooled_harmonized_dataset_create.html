<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generate the pooled dataset from harmonized datasets in a dossier — pooled_harmonized_dataset_create • harmonizR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Generate the pooled dataset from harmonized datasets in a dossier — pooled_harmonized_dataset_create"><meta property="og:description" content="Generates the pooled harmonized dataset from harmonized datasets in a
dossier. The pooled dataset has two extra columns which can be provided by
the user (unique_col_dataset = harmonizR_dataset_name' and
unique_col_id = 'harmonizR_unique_id' are the default).
The first column refers to the name of each dataset which is the name of each
tibble in the dossier. The second colunm refers to the column id in each
harmonized dataset and  which identifies unique combination (concatenated)
observation/dataset. These two columns are added to ensure every information
is safe during the process. The pooled_harmonized dataset comes with its
data dictionary which is the harmonized dossier dataSchema, to which the
two extra columns are added."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">harmonizR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0.1007</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Main-usage-of-harmonizR.html">Main-usage-of-harmonizR</a>
    </li>
    <li>
      <a href="../articles/Main-usage-of-harmonizRLegacy.html">Main-usage-of-harmonizRLegacy</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/maelstrom-research/harmonizR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate the pooled dataset from harmonized datasets in a dossier</h1>
    <small class="dont-index">Source: <a href="https://github.com/maelstrom-research/harmonizR/blob/HEAD/R/04-harmo_process_harmonization.R" class="external-link"><code>R/04-harmo_process_harmonization.R</code></a></small>
    <div class="hidden name"><code>pooled_harmonized_dataset_create.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generates the pooled harmonized dataset from harmonized datasets in a
dossier. The pooled dataset has two extra columns which can be provided by
the user (unique_col_dataset = harmonizR_dataset_name' and
unique_col_id = 'harmonizR_unique_id' are the default).
The first column refers to the name of each dataset which is the name of each
tibble in the dossier. The second colunm refers to the column id in each
harmonized dataset and  which identifies unique combination (concatenated)
observation/dataset. These two columns are added to ensure every information
is safe during the process. The pooled_harmonized dataset comes with its
data dictionary which is the harmonized dossier dataSchema, to which the
two extra columns are added.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pooled_harmonized_dataset_create</span><span class="op">(</span></span>
<span>  <span class="va">harmonized_dossier</span>,</span>
<span>  unique_col_dataset <span class="op">=</span> <span class="st">"harmonizR_dataset_name"</span>,</span>
<span>  unique_col_id <span class="op">=</span> <span class="st">"harmonizR_unique_id"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>harmonized_dossier</dt>
<dd><p>List of tibble(s), each of them being
harmonized dataset.</p></dd>


<dt>unique_col_dataset</dt>
<dd><p>A character string identifying the name the column
refering each dataset names.</p></dd>


<dt>unique_col_id</dt>
<dd><p>A character string identifying the name of the
column identifier of the dataset and will be the concatenation of
id column value and dataset name.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A tibble, which is the pooled harmonized dataset from a harmonized dossier.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>A harmonized dossier must be a named list containing at least one data frame
or data frame extension (e.g. a tibble), each of them being
harmonized dataset(s). It is generally the product of applying harmonization
processing to a dossier object. The name of each tibble will be use as the
reference name of the dataset. A harmonized dossier has four attributes :
<code><a href="https://rdrr.io/r/base/class.html" class="external-link">harmonizR::class</a></code> which is ""harmonized_dossier"" ; <code>harmonizR::Dataschema</code>
(provided by user) ; <code>harmonizR::data processing elements</code> ;
<code>harmonizR::harmonized_col_id</code> (provided by user) which refers to the column
in each dataset which identifies unique combination observation/dataset.
This id column name is the same across the dataset(s), the DataSchema and
the data processing elements (created by using 'id_creation') and is used to
initiate the process of harmonization.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can use our demonstration files to run examples</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/maelstrom-research/madshapR/" class="external-link">madshapR</a></span><span class="op">)</span> <span class="co"># import DEMO_files</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/GuiFabre/fabR/" class="external-link">fabR</a></span><span class="op">)</span>     <span class="co"># silently_run</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dataset_MELBOURNE_1</span> <span class="op">&lt;-</span> <span class="va">DEMO_files</span><span class="op">$</span><span class="va">dataset_MELBOURNE_1</span></span></span>
<span class="r-in"><span><span class="va">dataset_MELBOURNE_2</span> <span class="op">&lt;-</span> <span class="va">DEMO_files</span><span class="op">$</span><span class="va">dataset_MELBOURNE_2</span></span></span>
<span class="r-in"><span><span class="va">dossier</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://maelstrom-research.github.io/madshapR-documentation/reference/dossier_create.html" class="external-link">dossier_create</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">dataset_MELBOURNE_1</span>, <span class="va">dataset_MELBOURNE_2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dataschema</span> <span class="op">&lt;-</span> <span class="va">DEMO_files</span><span class="op">$</span><span class="va">`dataschema - final`</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">data_proc_elem</span> <span class="op">&lt;-</span> </span></span>
<span class="r-in"><span>  <span class="va">DEMO_files</span><span class="op">$</span><span class="va">`data_processing_elements - final`</span><span class="op">$</span><span class="va">`dataProcessing`</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># perform harmonization </span></span></span>
<span class="r-in"><span><span class="va">harmonized_dossier</span> <span class="op">&lt;-</span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/fabR/man/silently_run.html" class="external-link">silently_run</a></span><span class="op">(</span><span class="fu"><a href="harmo_process.html">harmo_process</a></span><span class="op">(</span><span class="va">dossier</span>,<span class="va">dataschema</span>,<span class="va">data_proc_elem</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">pooled_harmonized_dataset_create</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">harmonized_dossier</span>,</span></span>
<span class="r-in"><span>  unique_col_dataset <span class="op">=</span> <span class="st">'harmonizR_dataset_name'</span>,</span></span>
<span class="r-in"><span>  unique_col_id <span class="op">=</span> <span class="st">'harmonizR_unique_id'</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 38 × 15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    harmonizR_dataset_name            harmonizR_unique_id adm_unique_id adm_study</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;chr+lbl&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> dataset_MELBOURNE_1<span style="color: #949494;"> [harmonized …</span> dataset_MELBOURNE_… 377943        MELBOURNE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> dataset_MELBOURNE_1<span style="color: #949494;"> [harmonized …</span> dataset_MELBOURNE_… 497013        MELBOURNE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> dataset_MELBOURNE_1<span style="color: #949494;"> [harmonized …</span> dataset_MELBOURNE_… 927676        MELBOURNE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> dataset_MELBOURNE_1<span style="color: #949494;"> [harmonized …</span> dataset_MELBOURNE_… 995667        MELBOURNE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> dataset_MELBOURNE_1<span style="color: #949494;"> [harmonized …</span> dataset_MELBOURNE_… 21829         MELBOURNE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> dataset_MELBOURNE_1<span style="color: #949494;"> [harmonized …</span> dataset_MELBOURNE_… 209432        MELBOURNE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> dataset_MELBOURNE_1<span style="color: #949494;"> [harmonized …</span> dataset_MELBOURNE_… 272983        MELBOURNE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> dataset_MELBOURNE_1<span style="color: #949494;"> [harmonized …</span> dataset_MELBOURNE_… 580632        MELBOURNE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> dataset_MELBOURNE_1<span style="color: #949494;"> [harmonized …</span> dataset_MELBOURNE_… 304624        MELBOURNE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> dataset_MELBOURNE_1<span style="color: #949494;"> [harmonized …</span> dataset_MELBOURNE_… 637551        MELBOURNE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 28 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 11 more variables: adm_year_dce &lt;chr&gt;, sdc_age &lt;int&gt;, sdc_gender &lt;int+lbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   phy_height &lt;dbl&gt;, phy_weight &lt;dbl&gt;, phy_bmi &lt;dbl&gt;, rep_preg_ever &lt;int+lbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   rep_preg_curr &lt;int+lbl&gt;, lsb_smo_ever &lt;int+lbl&gt;, lsb_smo_curr &lt;int+lbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   lsb_smo_status &lt;int+lbl&gt;</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Guillaume Fabre.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

